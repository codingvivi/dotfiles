# Package list consumed by run_once_03-install-packages.nu.tmpl
#
# SYNTAX
# ──────
# Plain string → install via system pkg manager, checked with `rpm -q <name>`, on all distros:
#   - somepackage
#
# Named record (any fields below are optional):
#   - name: somepackage       # package name (required)
#     via: pkg                # installer: pkg | cargo | uv | go | mise  (default: pkg)
#     check: somebinary       # override the binary/pkg used to check if already installed
#     pkg: other-pkg-name     # override the package name passed to the installer
#     bin: somebinary         # alias for check
#     args: [...]             # extra args passed to the installer command
#     repo: "https://..."     # add this repo before installing (zypper/dnf)
#
# Distro overrides — add an `opensuse:` or `fedora:` block to merge/override top-level fields:
#   - name: somepackage
#     via: cargo
#     opensuse:
#       via: pkg              # use pkg on opensuse, cargo on everything else
#
# Special values for `install:` inside a distro block:
#   install: exclusive        # only install on distros that also have install: exclusive
#   install: ignore           # skip on this distro
#
packages:
  # ── brightness ────────────────────────────────────────────────────────────────
  - brightnessctl

  # ── editors ───────────────────────────────────────────────────────────────────
  - helix
  - emacs

  # ── terminal ──────────────────────────────────────────────────────────────────
  - foot
  - atuin
  - zoxide
  - fira-code-fonts
  - name: tlrc
    bin: tldr
    

  # ── bar / notifications / idle ────────────────────────────────────────────────
  - name: waybar
    fedora:
      install: ignore
  - mako
  - hypridle

  # ── clipboard ─────────────────────────────────────────────────────────────────
  - cliphist
  - wl-clipboard
  # - name: wl-clip-persist
  #   via: cargo

  # ── shell ─────────────────────────────────────────────────────────────────────
  - fish

  # ── launcher ──────────────────────────────────────────────────────────────────
  - rofi

  # ── file managers ─────────────────────────────────────────────────────────────
  - feh
  - name: yazi
    via: cargo
    opensuse:
      via: pkg
  - name: broot
    via: cargo
    opensuse:
      via: pkg

  # ── file viewers ──────────────────────────────────────────────────────────────
  - zathura
  - name: zathura-plugin-pdf-mupdf
    opensuse:
      install: exclusive
  - name: zathura-plugins-all
    fedora:
      install: exclusive

  # ── audio ────────────────────────────────────────────────────────────────────
  - pipewire
  - pipewire-pulseaudio
  - wireplumber
  # - name: wiremix
    # via: cargo

  # ── music ─────────────────────────────────────────────────────────────────────
  - mpd
  - beets
  - name: rmpc
    via: cargo
    args: ["--git", "https://github.com/mierak/rmpc"]

  # ── email ─────────────────────────────────────────────────────────────────────
  - gpgme-devel
  - isync
  - notmuch
  - name: alot
    via: uv
    fedora:
      via: pkg

  # ── browser ───────────────────────────────────────────────────────────────────
  - qutebrowser

  # ── wallpaper ─────────────────────────────────────────────────────────────────
  - name: swww
    opensuse:
      install: exclusive

  # ── compositor ────────────────────────────────────────────────────────────────
  - name: mangowc-git
    opensuse:
      install: exclusive
      repo: "https://download.opensuse.org/repositories/home:darix:playground/openSUSE_Tumbleweed/home:darix:playground.repo"

  # ── lock screen ───────────────────────────────────────────────────────────────
  - name: swaylock-effects
    opensuse:
      install: exclusive
      repo: "https://download.opensuse.org/repositories/home:mantarimay:sway/standard/home:mantarimay:sway.repo"

  # ── bluetooth ─────────────────────────────────────────────────────────────────
  - name: bluez
    opensuse:
      install: exclusive

  # ── comms ─────────────────────────────────────────────────────────────────────
  # - name: aparte
  #   via: cargo
  - name: iamb
    via: cargo
    opensuse:
      via: pkg

  # ── keyboard ──────────────────────────────────────────────────────────────────
  - name: kanata
    via: cargo
    opensuse:
      via: pkg
      repo: "https://download.opensuse.org/repositories/home:alternateved/openSUSE_Tumbleweed/home:alternateved.repo"

  # ── toolchains ────────────────────────────────────────────────────────────────

  - name: cargo-update
    via: cargo
  # ── dev tools ─────────────────────────────────────────────────────────────────
  - name: ghq
    via: mise
    args: ["ghq@latest"]

  - name: pomo
    via: go
    args: ["codeberg.org/kevinschoon/pomo/cmd/pomo@latest"]

